<!DOCTYPE html>
<html lang="en">
    <script src='mapbox-gl.js'></script>
    <link href='mapbox-gl.css' rel='stylesheet' />
    <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>
    <style>
    .mapboxgl-popup {
    max-width: 400px;
    font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    }
    .marker-title {
    font-weight: 700;
    }
    </style>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Destinify</title>
        <!-- Bootstrap Core CSS -->
        <link href="bootstrap.min.css" rel="stylesheet">
        <link href="animate.css" rel="stylesheet">
        <!-- Custom CSS -->
        <link href="stylish-portfolio.css" rel="stylesheet">
        <!-- Custom Fonts -->
        <link href="font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <!-- Navigation -->
        <a id="menu-toggle" href="#" class="btn btn-dark btn-lg toggle"><i class="fa fa-bars"></i></a>
        <nav id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <a id="menu-close" href="#" class="btn btn-light btn-lg pull-right toggle"><i class="fa fa-times"></i></a>
                <li class="sidebar-brand">
                    <a href="#top"  onclick = $("#menu-close").click(); >Start Bootstrap</a>
                </li>
                <li>
                    <a href="#top" onclick = $("#menu-close").click(); >Home</a>
                </li>
                <li>
                    <a href="#about" onclick = $("#menu-close").click(); >About</a>
                </li>
                <li>
                    <a href="#services" onclick = $("#menu-close").click(); >Services</a>
                </li>
                <li>
                    <a href="#portfolio" onclick = $("#menu-close").click(); >Portfolio</a>
                </li>
                <li>
                    <a href="#contact" onclick = $("#menu-close").click(); >Contact</a>
                </li>
            </ul>
        </nav>
        <!-- Header -->
        <header id="top" class="header">
            
            <div class="text-vertical-center" id="start">
                <h1>Destinify</h1>
                <h3>Travell with a click</h3>
                <br>
                <a onclick="start()" id="start-btn" class="btn btn-dark btn-lg">Take Me Somewhere</a>
            </div>
            
            <div id="map"></map>
                <div  class="text-vertical-center container" style="display:none;">
                    
                    
                    <!--<div id="map">-->
                    
                </div>
                
                
            </header>
            
            <style type="text/css">
            div.list-group-item {
            height:auto;
            min-height:220px;
            }
            div.list-group-item.active small {
            color:#fff;
            }
            .stars {
            margin:20px auto 1px;
            }
            @media (min-width: 992px)
            {
            .modal-lg {
            width: 1265PX;
            }
            }
            </style>
            
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog modal-lg">
                    <!-- Modal content-->
                    <div class="modal-content text-center">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title text-center">Select Best Flight Search</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                
                                <div class="list-group">
                                    <div href="#" class="list-group-item">
                                        <div class="media col-md-3">
                                            <figure class="pull-left">
                                                <img class="media-object img-rounded img-responsive"  src="http://placehold.it/350x250" alt="placehold.it/350x250" >
                                            </figure>
                                        </div>
                                        <div class="col-md-6">
                                            <h4 class="list-group-item-heading"> List group heading </h4>
                                            <p class="list-group-item-text"> Qui diam libris ei, vidisse incorrupte at mel. His euismod salutandi dissentiunt eu. Habeo offendit ea mea. Nostro blandit sea ea, viris timeam molestiae an has. At nisl platonem eum.
                                                Vel et nonumy gubergren, ad has tota facilis probatus. Ea legere legimus tibique cum, sale tantas vim ea, eu vivendo expetendis vim. Voluptua vituperatoribus et mel, ius no elitr deserunt mediocrem. Mea facilisi torquatos ad.
                                            </p>
                                        </div>
                                        <div class="col-md-3 text-center">
                                            <h2> 14240 <small> votes </small></h2>
                                            <button type="button" class="btn btn-default btn-lg btn-block" data-toggle="collapse" data-target="#show-data" onclick="showdata()"> SELECT</button>
                                            <div class="stars">
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star-empty"></span>
                                            </div>
                                            <p> Average 4.5 <small> / </small> 5 </p>
                                        </div>
                                    </div>
                                    <div href="#" class=" collapse" id="show-data" >
                                        
                                        asbkdbkabsdbaksbdkabsdkbkbaskdbkabskdbaksbdkbaskdbkabsdkjb
                                    </div>
                                    
                                    <div href="#" class="list-group-item">
                                        <div class="media col-md-3">
                                            <figure class="pull-left">
                                                <img class="media-object img-rounded img-responsive" src="http://placehold.it/350x250" alt="placehold.it/350x250" >
                                            </figure>
                                        </div>
                                        <div class="col-md-6">
                                            <h4 class="list-group-item-heading"> List group heading </h4>
                                            <p class="list-group-item-text"> Eu eum corpora torquatos, ne postea constituto mea, quo tale lorem facer no. Ut sed odio appetere partiendo, quo meliore salutandi ex. Vix an sanctus vivendo, sed vocibus accumsan petentium ea.
                                                Sed integre saperet at, no nec debet erant, quo dico incorrupte comprehensam ut. Et minimum consulatu ius, an dolores iracundia est, oportere vituperata interpretaris sea an. Sed id error quando indoctum, mel suas saperet at.
                                            </p>
                                        </div>
                                        <div class="col-md-3 text-center">
                                            <h2> 12424 <small> votes </small></h2>
                                            <button type="button" class="btn btn-primary btn-lg btn-block">Vote Now!</button>
                                            <div class="stars">
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star-empty"></span>
                                            </div>
                                            <p> Average 3.9 <small> / </small> 5 </p>
                                        </div>
                                    </div>
                                    <div href="#" class="list-group-item">
                                        <div class="media col-md-3">
                                            <figure class="pull-left">
                                                <img class="media-object img-rounded img-responsive" src="http://placehold.it/350x250" alt="placehold.it/350x250">
                                            </figure>
                                        </div>
                                        <div class="col-md-6">
                                            <h4 class="list-group-item-heading"> List group heading </h4>
                                            <p class="list-group-item-text"> Ut mea viris eripuit theophrastus, cu ponderum accusata consequuntur cum. Suas quaestio cotidieque pro ea. Nam nihil persecuti philosophia id, nam quot populo ea.
                                                Falli urbanitas ei pri, eu est enim volumus, mei no volutpat periculis. Est errem iudicabit cu. At usu vocibus officiis, ad ius eros tibique appellantur.
                                            </p>
                                        </div>
                                        <div class="col-md-3 text-center">
                                            <h2> 13540 <small> votes </small></h2>
                                            <button type="button" class="btn btn-primary btn-lg btn-block">Vote Now!</button>
                                            <div class="stars">
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star"></span>
                                                <span class="glyphicon glyphicon-star-empty"></span>
                                            </div>
                                            <p> Average 4.1 <small> / </small> 5 </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-2"></div>
                                
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <script type="text/javascript">

                var places = {
            1:'place1',
            2:'place2',
            3:'place3',
            4:'place4',
            };
            

            function start()
            {
            $('#start-btn').html("Processing Data....");
            
            setTimeout(function(){
            $('#start').addClass("animated fadeOutUp").delay(2000);
            $('#start').hide();
            $('#data-section').show();
            $('#data-section').addClass("animated fadeInDown");
            var lat=[37.7749,48.8566,37.3861,40.7128 ];
            var long=[122.4194,2.3532,122.0839,74.0059 ];

            mapboxgl.accessToken = 'pk.eyJ1Ijoibml0aW4xMjMiLCJhIjoiNTMwZmUzNTQ1NzRkYmY4OTE1MjJkOTNhNmRlMGE4ZDYifQ.IYlLXR8kgPwt137K_x7Nzg';
            var markers = {
            "type":"FeatureCollection",
            "features":[
            {
            "type":"Feature",
            "properties": {
            "description": "<div class=\"marker-title\">Make it Mount Pleasant</div><p><a href=\"http://www.mtpleasantdc.com/makeitmtpleasant\" target=\"_blank\" title=\"Opens in a new window\">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p> <button onclick=\"afterlocation(1)\">Show Location</button>",
            "marker-symbol": "star",
            "marker-size":"large",
            "marker-color":"#faaf34"
            },
            "geometry":{
            "type":"Point",
            "coordinates":[lat[0],long[0]]
            }
            
            },
            {
            "type":"Feature",
            "properties": {
            "description": "<div class=\"marker-title\">Make it Mount Pleasant</div><p><a href=\"http://www.mtpleasantdc.com/makeitmtpleasant\" target=\"_blank\" title=\"Opens in a new window\">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>",
            "marker-symbol": "star",
            "marker-size":"large",
            "marker-color":"#faaf34"
            },
            "geometry":{
            "type":"Point",
            "coordinates":[lat[1],long[1]]
            }
            },
            {
            "type":"Feature",
            "geometry":{
            "type":"Point",
            "coordinates":[lat[2],long[2]]
            },
            "properties": {
            "description": "<div class=\"marker-title\">Make it Mount Pleasant</div><p><a href=\"http://www.mtpleasantdc.com/makeitmtpleasant\" target=\"_blank\" title=\"Opens in a new window\">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p> <button onclick=\"afterlocation(2)\">Show Location</button>",
            "marker-symbol": "star",
            "marker-size":"large",
            "marker-color":"#faaf34"
            }
            
            },
            {
            "type":"Feature",
            "properties": {
            "description": "<div class=\"marker-title\">Make it Mount Pleasant</div><p><a href=\"http://www.mtpleasantdc.com/makeitmtpleasant\" target=\"_blank\" title=\"Opens in a new window\">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p> <button onclick=\"afterlocation(3)\">Show Location</button>",
            "marker-symbol": "star",
            "marker-size":"large",
            "marker-color":"#faaf34"
            },
            "geometry":{
            "type":"Point",
            "coordinates":[lat[3],long[3]]
            }
            
            }
            ]
            };
            /*
            for(var i=0;i<3;i++)
            {
            geojson.features.geometry.coordinates.push([lat[i], long[i]]);
            }
            */
            var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/light-v8',
            center: [37, 70],
            zoom: 1
            });
            map.on('load', function () {
            // Add marker data as a new GeoJSON source.
            map.addSource("markers", {
            "type": "geojson",
            "data": markers
            });
            // Add a layer showing the markers.
            map.addLayer({
            "id": "markers",
            "type": "symbol",
            "source": "markers",
            "layout": {
            "icon-image": "{marker-symbol}-15",
            "icon-allow-overlap": true
            }
            });
            });
            // When a click event occurs near a marker icon, open a popup at the location of
            // the feature, with description HTML from its properties.
            map.on('click', function (e) {
            var features = map.queryRenderedFeatures(e.point, { layers: ['markers'] });
            if (!features.length) {
            return;
            }
            var feature = features[0];
            // Populate the popup and set its coordinates
            // based on the feature found.
            var popup = new mapboxgl.Popup()
            .setLngLat(feature.geometry.coordinates)
            .setHTML(feature.properties.description)
            .addTo(map);
            });
            // Use the same approach as above to indicate that the symbols are clickable
            // by changing the cursor style to 'pointer'.
            map.on('mousemove', function (e) {
            var features = map.queryRenderedFeatures(e.point, { layers: ['markers'] });
            map.getCanvas().style.cursor = (features.length) ? 'pointer' : '';
            });
            
            
            },3000);
            
            
            
            }// start end
            function afterlocation(val)
            {
            $('#myModal').modal("show");
            var x = JSON.parse(JSON.stringify(places));
            

            
            console.log(x[val.toString()]);
            }
            function showdata()
            {
            //$('#show-data').show("slow");
            }
            </script>
            
            <!-- Footer -->
            <footer>
                <div class="container">
                    <div class="row">
                        <div class="col-lg-10 col-lg-offset-1 text-center">
                            <h4><strong>Start Bootstrap</strong>
                            </h4>
                            <p>3481 Melrose Place<br>Beverly Hills, CA 90210</p>
                            <ul class="list-unstyled">
                                <li><i class="fa fa-phone fa-fw"></i> (123) 456-7890</li>
                                <li><i class="fa fa-envelope-o fa-fw"></i>  <a href="mailto:name@example.com">name@example.com</a>
                            </li>
                        </ul>
                        <br>
                        <ul class="list-inline">
                            <li>
                                <a href="#"><i class="fa fa-facebook fa-fw fa-3x"></i></a>
                            </li>
                            <li>
                                <a href="#"><i class="fa fa-twitter fa-fw fa-3x"></i></a>
                            </li>
                            <li>
                                <a href="#"><i class="fa fa-dribbble fa-fw fa-3x"></i></a>
                            </li>
                        </ul>
                        <hr class="small">
                        <p class="text-muted">Copyright &copy; Your Website 2014</p>
                    </div>
                </div>
            </div>
        </footer>
        <script src="jquery-2.2.1.js"></script>
        <!-- Bootstrap Core JavaScript -->
        <script src="bootstrap.min.js"></script>
        <!-- Custom Theme JavaScript -->
        <script>
        // Closes the sidebar menu
        $("#menu-close").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
        });
        // Opens the sidebar menu
        $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
        });
        // Scrolls to the selected menu item on the page
        $(function() {
        $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
        if (target.length) {
        $('html,body').animate({
        scrollTop: target.offset().top
        }, 1000);
        return false;
        }
        }
        });
        });
        </script>
    </body>
</html>